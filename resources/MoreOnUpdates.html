

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>More on Updates &mdash; Pyrogram Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.pyrogram.ml/resources/MoreOnUpdates.html"/>
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Smart Plugins" href="SmartPlugins.html" />
    <link rel="prev" title="Using Filters" href="UsingFilters.html" />
    <meta property="og:title" content="Welcome to Pyrogram â€” Pyrogram Documentation">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://i.imgur.com/4E0uKSE.png">
    <meta property="og:url" content="https://docs.pyrogram.ml">
    <meta property="og:description" content="Telegram MTProto API Client Library for Python">
    <meta property="og:site_name" content="Pyrogram">
    <meta property="og:locale" content="en_US">

    <meta name="description" content="Telegram MTProto API Client Library for Python">
    <meta name="theme-color" content="#5c5a55">

    <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i|Roboto+Slab:400" rel="stylesheet">

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-84734363-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-84734363-2');
    </script>

  
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 0.10.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../start/Installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../start/Installation.html#install-pyrogram">Install Pyrogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/Installation.html#bleeding-edge">Bleeding Edge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/Installation.html#asynchronous">Asynchronous</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/Installation.html#verifying">Verifying</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start/Setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../start/Setup.html#api-keys">API Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/Setup.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/Setup.html#user-authorization">User Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/Setup.html#bot-authorization">Bot Authorization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start/Usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../start/Usage.html#high-level-api">High-level API</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="UpdateHandling.html">Update Handling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="UpdateHandling.html#registering-an-handler">Registering an Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHandling.html#using-decorators">Using Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpdateHandling.html#using-add-handler">Using add_handler()</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="UsingFilters.html">Using Filters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="UsingFilters.html#combining-filters">Combining Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="UsingFilters.html#advanced-filters">Advanced Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="UsingFilters.html#custom-filters">Custom Filters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="UsingFilters.html#basic-filters">Basic Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="UsingFilters.html#filters-with-arguments">Filters with Arguments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">More on Updates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#handler-groups">Handler Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="#update-propagation">Update propagation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stop-propagation">Stop Propagation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SmartPlugins.html">Smart Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SmartPlugins.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="SmartPlugins.html#using-smart-plugins">Using Smart Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="AutoAuthorization.html">Auto Authorization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="AutoAuthorization.html#log-in">Log In</a></li>
<li class="toctree-l2"><a class="reference internal" href="AutoAuthorization.html#sign-up">Sign Up</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CustomizeSessions.html">Customize Sessions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="CustomizeSessions.html#set-custom-values">Set Custom Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="CustomizeSessions.html#set-custom-languages">Set Custom Languages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TgCrypto.html">TgCrypto</a><ul>
<li class="toctree-l2"><a class="reference internal" href="TgCrypto.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TextFormatting.html">Text Formatting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="TextFormatting.html#markdown-style">Markdown Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="TextFormatting.html#html-style">HTML Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="TextFormatting.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="SOCKS5Proxy.html">SOCKS5 Proxy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SOCKS5Proxy.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="BotsInteraction.html">Bots Interaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="BotsInteraction.html#inline-bots">Inline Bots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ErrorHandling.html">Error Handling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ErrorHandling.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TestServers.html">Test Servers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="TestServers.html#test-mode-in-official-apps">Test Mode in Official Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestServers.html#test-numbers">Test Numbers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="AdvancedUsage.html">Advanced Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="AdvancedUsage.html#telegram-raw-api">Telegram Raw API</a></li>
<li class="toctree-l2"><a class="reference internal" href="AdvancedUsage.html#caveats">Caveats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="AdvancedUsage.html#chat-ids">Chat IDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="AdvancedUsage.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">Main Package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pyrogram/index.html">Pyrogram</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/Client.html">Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#utilities">Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#decorators">Decorators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#messages">Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#chats">Chats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#users">Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#contacts">Contacts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#password">Password</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Client.html#bots">Bots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/Types.html">Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Types.html#users-chats">Users &amp; Chats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Types.html#messages-media">Messages &amp; Media</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Types.html#bots">Bots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pyrogram/Types.html#input-media">Input Media</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/Handlers.html">Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/Filters.html">Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/ChatAction.html">ChatAction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/ParseMode.html">ParseMode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pyrogram/Error.html">Error</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../errors/SeeOther.html">303 - See Other</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/BadRequest.html">400 - Bad Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/Unauthorized.html">401 - Unauthorized</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/Forbidden.html">403 - Forbidden</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/NotAcceptable.html">406 - Not Acceptable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/Flood.html">420 - Flood</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/InternalServerError.html">500 - Internal Server Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors/UnknownError.html">520 - Unknown Error</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Telegram API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../types/index.html">Types</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pyrogram</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>More on Updates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="https://github.com/pyrogram/pyrogram" rel="nofollow" class="fa fa-github"> View on GitHub</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="more-on-updates">
<h1>More on Updates<a class="headerlink" href="#more-on-updates" title="Permalink to this headline">Â¶</a></h1>
<p>Here weâ€™ll show some advanced usages when working with updates.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This page makes use of Handlers and Filters to show you how to handle updates.
Learn more at <a class="reference external" href="UpdateHandling.html">Update Handling</a> and <a class="reference external" href="UsingFilters.html">Using Filters</a>.</p>
</div>
<div class="section" id="handler-groups">
<h2>Handler Groups<a class="headerlink" href="#handler-groups" title="Permalink to this headline">Â¶</a></h2>
<p>If you register handlers with overlapping filters, only the first one is executed and any other handler will be ignored.</p>
<p>In order to process the same update more than once, you can register your handler in a different group.
Groups are identified by a number (number 0 being the default) and are sorted, that is, a lower group number has a
higher priority.</p>
<p>For example, in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">text</span> <span class="o">|</span> <span class="n">Filters</span><span class="o">.</span><span class="n">sticker</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">text_or_sticker</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Text or Sticker&quot;</span><span class="p">)</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">just_text</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Just Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">just_text</span></code> is never executed because <code class="docutils literal notranslate"><span class="pre">text_or_sticker</span></code> already handles texts. To enable it, simply register the
function using a different group:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">just_text</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Just Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or, if you want <code class="docutils literal notranslate"><span class="pre">just_text</span></code> to be fired <em>before</em> <code class="docutils literal notranslate"><span class="pre">text_or_sticker</span></code> (note <code class="docutils literal notranslate"><span class="pre">-1</span></code>, which is less than <code class="docutils literal notranslate"><span class="pre">0</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">group</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">just_text</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Just Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>With <a class="reference internal" href="../pyrogram/Client.html#pyrogram.Client.add_handler" title="pyrogram.Client.add_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_handler()</span></code></a> (without decorators) the same can be achieved with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">add_handler</span><span class="p">(</span><span class="n">MessageHandler</span><span class="p">(</span><span class="n">just_text</span><span class="p">,</span> <span class="n">Filters</span><span class="o">.</span><span class="n">text</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="update-propagation">
<h2>Update propagation<a class="headerlink" href="#update-propagation" title="Permalink to this headline">Â¶</a></h2>
<p>Registering multiple handlers, each in a different group, becomes useful when you want to handle the same update more
than once. Any incoming update will be sequentially processed by all of your registered functions by respecting the
groups priority policy described above. Even in case any handler raises an unhandled exception, Pyrogram will still
continue to propagate the same update to the next groups until all the handlers are done. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># Unhandled exception: ZeroDivisionError</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>All these handlers will handle the same kind of messages, that are, messages sent or received in private chats.
The output for each incoming update will therefore be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0
ZeroDivisionError: division by zero
2
</pre></div>
</div>
<div class="section" id="stop-propagation">
<h3>Stop Propagation<a class="headerlink" href="#stop-propagation" title="Permalink to this headline">Â¶</a></h3>
<p>In order to prevent further propagation of an update in the dispatching phase, you can do <em>one</em> of the following:</p>
<ul class="simple">
<li>Call the updateâ€™s bound-method <code class="docutils literal notranslate"><span class="pre">.stop_propagation()</span></code> (preferred way).</li>
<li>Manually <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">StopPropagation</span></code> error (more suitable for raw updates only).</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that <code class="docutils literal notranslate"><span class="pre">.stop_propagation()</span></code> is just an elegant and intuitive way to raise a <code class="docutils literal notranslate"><span class="pre">StopPropagation</span></code> error;
this means that any code coming <em>after</em> calling it wonâ€™t be executed as your function just raised a custom exception
to signal the dispatcher not to propagate the update anymore.</p>
</div>
<p>Example with <code class="docutils literal notranslate"><span class="pre">stop_propagation()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">message</span><span class="o">.</span><span class="n">stop_propagation</span><span class="p">()</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Example with <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">StopPropagation</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyrogram</span> <span class="kn">import</span> <span class="n">StopPropagation</span>

<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">StopPropagation</span>


<span class="nd">@app.on_message</span><span class="p">(</span><span class="n">Filters</span><span class="o">.</span><span class="n">private</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The handler in group number 2 will never be executed because the propagation was stopped before. The output of both
examples will be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0
1
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="SmartPlugins.html" class="btn btn-neutral float-right" title="Smart Plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="UsingFilters.html" class="btn btn-neutral" title="Using Filters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    <div>
      <b><a href="https://github.com/pyrogram/pyrogram">Pyrogram</a></b> documentation
      &copy; Copyright 2017-2018, Dan TÃ¨s
    </div>
    <p>
      Licensed under the
      <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
    </p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a modified <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'version 0.10.3',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enable();
          
      });
  </script> 

</body>
</html>